# [level:2]도넛과 막대 그래프

[문제](https://school.programmers.co.kr/learn/courses/30/lessons/258711)

### 시간복잡도

<br>

**제한사항**

- edges <= 1,000,000
- edges의 원소는 [a,b] 형태이며 1<=a,b<=1,000,000

완전탐색을 통해 1번 노드부터 차례로 1번 노드가 특정 정점이고 다른 노드들을 탐색 했을 때 어떤 유형의 그래프 인지 확인한다면 시간복잡도에서 초과될 수 있다고 생각했다.

### 문제풀이

<br>
각 정점에서 나가는 간선의 수와 들어오는 간선의 수를 통해 막대그래프, 8자 그래프, 정점을 알 수 있었다.

- 막대그래프: 나가는 간선의 수가 0, 들어오는 간선의 수가 1일때
- 8자모양 그래프: 나가는 간선의 수가 2, 들어오는 간선의 수가 2일때
- 정점: 나가는 간선의 수가 2개이상, 들어오는 간선의 수가 0 일때
- 도넛그래프: 선택된 정점에서 나가는 간선의 수 - (막대그래프 수 + 8자 그래프 수)

해당 조건을 통해 정답을 구할 수 있었다.

### 정리

<br>

**배운점**

스스로 풀지 못했고 프로그래머스 문제에 제공하는 질문하기의 힌트와 인터넷 검색을 통해 정답을 도출해 냈다. 각 정점의 나가고 들어오는 간선의 수를 통해 그래프 형태의 개수를 알아내는 조건을 찾아내는 것이 핵심인 문제였다.

```
Array.flat()
- 배열 평탄화 (2d 배열에서 1d배열로 평탄화 할 경우 사용)
```

```
Object.hasOwnProperty('val')
- 'val' 값이 객체의 key에 존재 하는 지 boolean형태로 return
```

```
'val' in obj
- `Object.hasOwnProperty`메서드 대신 해당 operator을 통해 객체 내 키 값이 존재하는지 구분 가능하다.
```

**런타임에러**

코드를 제대로 작성했음에도 총 35개의 테스트 케이스 중 8번~26번 케이스에서 런타임 에러가 발생했다.

```
const max = Math.max.apply(null, edges.flat());
const array = Array.from({length: 1000001}, () => [0,0])
```

처음 문제에 접근 했을 때 `Array.from` 메서드를 통해 조건에 맞게 **10^6 + 1 개의 배열을 [0,0] 으로 만들어 총 (1 X 2)의 행렬을 10^6+1개의 배열 인덱스에 넣어 주었다.** 테스트 케이스에서 정점의 번호가 최대인 10^6일 경우 `메모리 부족`으로 인해 런타임 에러가 발생했던것 같다.

따라서, 해당 코드 라인을 지우고 배열 대신 객체 형태로 만들어 키 값으로 적용해 해결했다. 배열의 크기가 너무 큰 경우를 주의하며 문제를 풀어가는 것을 배웠다.
